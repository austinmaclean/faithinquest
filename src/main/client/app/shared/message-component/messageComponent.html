<div class="messages-cont" [hidden]="messages.length == 0">
    <div class="backdrop-messages" modal-backdrop></div>
    <div class="modal fade in" *ngFor="let message of messages" style="display: block;">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="panel panel-modal alert-{{message.type}}">
                    <div class="panel-body" style="overflow: hidden;" max-height-diff="120">
                        <div class="panel-content-error">
                            <div class="row control">
                                <div class="col">
                                    <i (click)="closeAlertMessage($index)" class="icon-close pull-right cursor"></i>
                                </div>
                            </div>
                            <div class="row content" max-height-diff="160">
                                <div class="col" *ngFor="let item of message.items">
                                    <div class="accordion error-stack">
                                        <h4 (click)="showTrace($parent.$index, $index)">
                                            <span [textContent]="item.msg"></span>
                                        </h4>

                                        <div class="accordion-content-outer margin-top-10" *ngIf="item.trace" [hidden]="!item.traceOpen">
                                            <div class="accordion-content">
                                                <div class="margin-bottom-20" [textContent]="item.name"></div>
                                                <div *ngFor="let traceItem of item.trace" [textContent]="traceItem"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
